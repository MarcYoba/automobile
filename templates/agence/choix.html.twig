{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}

<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    

    <title>Location</title>

</head>

<body id="page-top" class="regular-navigation">
<div class="master-wrapper">

    <div class="preloader">
        <div class="preloader-img">
            <!-- <span class="loading-animation animate-flicker"><img src="assets/img/loading.GIF" alt="loading" /></span> -->
        </div>
    </div>

    <!-- Navigation Bootstrap 5 -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top wow animate__animated animate__fadeInDown" 
        data-wow-delay="0.2s">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main-navigation" 
                        aria-controls="main-navigation" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand smoothie" href="index.php">AB COMPTA<span class="theme-accent-color"></span></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="main-navigation">
                <!-- Vous pouvez ajouter vos éléments de navigation ici -->
            </div>
            <!-- /.navbar-collapse -->         

        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->

    <section id="about" class="top-border-me">
        <div class="section-inner">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 text-center mb-5">                        
                        <h2 class="section-heading">WE <span class="theme-accent-color">are</span> Welcome</h2>
                        <hr class="thin-hr">
                        <h3 class="section-subheading secondary-font">Nous sommes très heureux de vous voir.</h3>
                    </div>
                    <div class="col-lg-2 text-center mb-5">
                        <i class="fas fa-arrow-right fa-5x theme-accent-color"></i>
                    </div>
                    
                    <div class="col-lg-12">
                        {% if app.user %}
                            <div class="row g-4">
                                {% if is_granted('ROLE_ADMIN_ADMIN') %}
                                    <div class="col-12">
                                        <div class="card shadow-sm border-0">
                                            <div class="card-body text-center p-4">
                                                <i class="fas fa-home fa-3x mb-3 theme-accent-color"></i>
                                                <h5 class="card-title fw-bold">Direction Générale</h5>
                                                <p class="card-text text-muted mb-4">Bienvenue dans votre agence. Veuillez accéder à vos services.</p>
                                                <div class="d-flex gap-3 justify-content-center flex-wrap">
                                                    <a href="{{ path('app_dashboard', {'id': 0}) }}" class="btn btn-primary px-4">
                                                        Activite ENC
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    {% for agences in agence %}
                                    <div class="col-md-6 col-lg-4">
                                        <div class="card shadow-sm border-0 h-100">
                                            <div class="card-body text-center p-4 d-flex flex-column">
                                                <i class="fas fa-building fa-3x mb-3 theme-accent-color"></i>
                                                <h5 class="card-title fw-bold">{{ agences.nom }}</h5>
                                                <p class="card-text text-muted mb-4 flex-grow-1">Bienvenue dans votre agence. Veuillez accéder à vos services.</p>
                                                <div class="d-flex gap-2 justify-content-center flex-wrap">
                                                    <a href="{{ path('app_dashboard', {'id': agences.id}) }}" class="btn btn-primary btn-sm">
                                                        Activite ENC
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                
                                {% elseif is_granted('ROLE_CLIENTS') %}
                                    {% if app.user.employer is not empty %}
                                    <div class="col-12">
                                        <div class="card shadow-sm border-0">
                                            <div class="card-body text-center p-4">
                                                <i class="fas fa-building fa-3x mb-3 theme-accent-color"></i>
                                                <h5 class="card-title fw-bold">{{ app.user.employer.agence.nom }}</h5>
                                                <p class="card-text text-muted mb-4">Bienvenue dans votre agence. Veuillez accéder à vos services.</p>
                                                <div class="d-flex gap-3 justify-content-center flex-wrap">
                                                    <a href="{{ path('app_dashboard', {'id': app.user.employer.agence.id}) }}" class="btn btn-primary px-4">
                                                        Activite ENC
                                                    </a>
                                                    <a href="{{ path('app_dashboard', {'id': app.user.employer.agence.id}) }}" class="btn btn-outline-primary px-4">
                                                        Cabinet
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% else %}
                                    <div class="col-12">
                                        <div class="alert alert-warning text-center">
                                            <p class="mb-0">Vous êtes un client. Veuillez vous référer à votre zone de travail.</p>
                                        </div>
                                    </div>
                                    {% endif %}
                                
                                {% elseif is_granted('ROLE_EMPLOYER') or is_granted('ROLE_DIRECTEUR') or is_granted('ROLE_MANAGER') or is_granted('ROLE_COMPTABLE') or is_granted('ROLE_SECRETAIRE') %}
                                
                                    {% for agences in agence %}
                                    <div class="col-md-6 col-lg-4">
                                        <div class="card shadow-sm border-0 h-100">
                                            <div class="card-body text-center p-4 d-flex flex-column">
                                                <i class="fas fa-building fa-3x mb-3 theme-accent-color"></i>
                                                <h5 class="card-title fw-bold">{{ agences.nom }}</h5>
                                                <p class="card-text text-muted mb-4 flex-grow-1">Bienvenue dans votre agence. Veuillez accéder à vos services.</p>
                                                <div class="d-flex gap-2 justify-content-center flex-wrap">
                                                    {% if agences.nom == "LTN SARL" %}
                                                        <a href="{{ path('app_dashboard', {'id': agences.id}) }}" class="btn btn-primary btn-sm">
                                                            Activite ENC
                                                        </a>
                                                    {% else %}
                                                        <a href="{{ path('app_dashboard', {'id': agences.id}) }}" class="btn btn-primary btn-sm">
                                                            Activite ENC
                                                        </a>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                
                                {% else %}
                                    <div class="col-12">
                                        <div class="alert alert-info text-center">
                                            <p class="mb-0">Vous êtes qui ? Veuillez vous référer à votre zone de travail.</p>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="bottom-frame"></div>

    <a href="#" id="back-to-top" class="btn btn-primary rounded-circle p-3">
        <i class="fas fa-arrow-up"></i>
    </a>

</div>
</body>

</html>


{% endblock %}
{% block javascripts %}
  {{ parent() }}
  
{% endblock %}